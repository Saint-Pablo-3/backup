# Домашнее задание к занятию "`Резервное копирование баз данных`" - `Решетов Павел`


---

### Задание 1. Резервное копирование
`Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. Необходимо описать, какие варианты резервного копирования подходят в случаях:`

1. `Необходимо восстанавливать данные в полном объёме за предыдущий день.`

`Ответ: Нужно полное резервное копирование (Full Backup), выполняемое ежедневно. Такая покпия содержит все данные на момент создания бэкапа.`

2. `Необходимо восстанавливать данные за час до предполагаемой поломки.`

`Ответ: Лучше использовать комбинацию полного + инкрементного или дифференциального копирования(зависит от конкретных обстоятельств - сколько места под хранение и сложности восстановления, если имеется ввиду инкрементная). `

3. `Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.`

``


---

### Задание 2. PostgreSQL

1. `С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).`

`Ответ: <br>
- pg_dump -U username -d dbname -F c -f backup_file.dump
- pg_restore -U username -d dbname backup_file.dump`

2. `2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?`
`Ответ:
с помощью Cron можем автоматизировать:<br>
0 3 * * * pg_dump -U username -d dbname -F c -f /backups/backup_file_$(date +\%Y-\%m-\%d).dump`
---

### Задание 3. MySQL

`3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.`

`Ответ: можно сделать с помощью Percona XtraBackup 
(полный бэкап):<br>
xtrabackup --backup --target-dir=/backups/full --user=root --password=pass 

(инкрементный бэкап):<br>
xtrabackup --backup --target-dir=/backups/inc1 --incremental-basedir=/backups/full --user=root --password=pass 
`


